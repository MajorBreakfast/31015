\begin{figure*}
	\centering
	\subfloat[][]{\setlength\figureheight{4cm}
		\setlength\figurewidth{6cm}
		\input{./pictures/clau_and_ir/plot.tikz}
	}
	\subfloat[][]{\setlength\figureheight{4cm}
		\setlength\figurewidth{6cm}
		\input{./pictures/rygaard_ir/plot.tikz}
	}
	\caption{(a): Our implementation using the IR proximity sensor as reference, sampling at \(\sim\)20Hz versus (b): 
	Hermansens's implementation using the IR proximity sensor as reference, sampling at 200Hz. For (a) the slow variations in 
altitude are a result of the measurements from the IR proximity sensor being quantized in 2cm steps giving the arm
free reign to drift within that range. The noise in (b) is not measurement noise, but rapid oscillation.}
\label{fig:irtest}
\vspace{3pt}
\hrulefill
\end{figure*}
\section{Evaluation}\label{sec:evaluation}
We have conducted a stability and step response test for our implementation and compared the results with an identical test of
Hermansen's implementation when using the potentiometer and IR proximity sensor as a position reference. These comparisons can be
seen in figure~\ref{fig:pottest} and~\ref{fig:irtest} respectively. It should be noted that we have added a lowpass filter to the
potentiometer, explaining the difference in noise level between Hermansen's implementation here and in his thesis.
\begin{figure}
	\setlength\figureheight{4cm}
	\setlength\figurewidth{6cm}
	\input{./pictures/clau_and_pot_1/plot.tikz}
	\caption{Our implementation using the potentiometer sensor as reference, sampling at 1Hz. Even with this low sample rate, the
		rise time and overshoot is still low because of the bandwidth provided by the accelerometer. The arm never moves more than
		1cm from the set point.}
\label{fig:pot1hztest}
\end{figure}

It is also interesting to see how low the update rate for the position reference can be set, since many available sensors such as GPS 
have very slow update rates. Figure~\ref{fig:pot1hztest} shows how well our implementation handles position reference updates at
1Hz using the potentiometer.
\begin{figure}
	\setlength\figureheight{4cm}
	\setlength\figurewidth{6cm}
	\input{./pictures/clau_and_ultra/plot.tikz}
	\caption{Our implementation using the ultrasound proximity sensor as reference, sampling at a variable frequency in the 50-100Hz 
	range. The risetime and overshoot is still small and the arm never wanders more than 1cm from the set point.}
\label{fig:ultratest}
\end{figure}


The performance of the system using the ultrasound proximity sensor for positional updates can be seen in figure~\ref{fig:ultratest}.
It is advantageous to use the ultrasound sensor instead of the IR sensor because the IR sensor can be blinded by glare and is almost
unuseable in outdoor conditions in addition to the bad accuracy of its measurements arising from the quantization of measurements in
2cm steps. The ultrasound sensor does not have these problems. However it is clear that the noise, which we attempted to reduce using the
gating filter, has not been completely eliminated. For an airborne multirotor it would seem that the ultrasound proximity 
sensor is the best choice for near earth altitude estimation.

	
